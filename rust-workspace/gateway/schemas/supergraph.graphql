schema
  @link(url: "https://specs.apollo.dev/link/v1.0")
  @link(url: "https://specs.apollo.dev/join/v0.3", for: EXECUTION)
{
  query: Query
  mutation: Mutation
}

directive @join__enumValue(graph: join__Graph!) repeatable on ENUM_VALUE

directive @join__field(graph: join__Graph, requires: join__FieldSet, provides: join__FieldSet, type: String, external: Boolean, override: String, usedOverridden: Boolean) repeatable on FIELD_DEFINITION | INPUT_FIELD_DEFINITION

directive @join__graph(name: String!, url: String!) on ENUM_VALUE

directive @join__implements(graph: join__Graph!, interface: String!) repeatable on OBJECT | INTERFACE

directive @join__type(graph: join__Graph!, key: join__FieldSet, extension: Boolean! = false, resolvable: Boolean! = true, isInterfaceObject: Boolean! = false) repeatable on OBJECT | INTERFACE | UNION | ENUM | INPUT_OBJECT | SCALAR

directive @join__unionMember(graph: join__Graph!, member: String!) repeatable on UNION

directive @link(url: String, as: String, for: link__Purpose, import: [link__Import]) repeatable on SCHEMA

type Business
  @join__type(graph: BUSINESS, key: "id")
{
  id: ID!
  name: String!
  description: String
  contactInfo: ContactInfo
  socialMedia: SocialMedia
  features: BusinessFeatures
  createdAt: String!
  updatedAt: String!
  deleted: Boolean!
  deletetionStatus: String
  version: Int!
}

type BusinessFeatures
  @join__type(graph: BUSINESS)
{
  """
  Example: Mon -> "9am–5pm"
  """
  hours: [BusinessHourEntry!]

  """Services provided by the business"""
  services: [String!]!

  """Descriptive tags"""
  tags: [String!]!

  """Custom metadata"""
  extra: JSONObject!
}

input BusinessFeaturesInput
  @join__type(graph: BUSINESS)
{
  """
  Example: Mon -> "9am–5pm"
  """
  hours: [BusinessHourEntryInput!]

  """Services provided by the business"""
  services: [String!]

  """Descriptive tags"""
  tags: [String!]

  """Custom metadata"""
  extra: JSONObject
}

type BusinessHourEntry
  @join__type(graph: BUSINESS)
{
  day: String!
  hours: String!
}

input BusinessHourEntryInput
  @join__type(graph: BUSINESS)
{
  day: String!
  hours: String!
}

type ContactInfo
  @join__type(graph: BUSINESS)
{
  email: String
  phone: String
  address: String
  website: String
}

input ContactInfoInput
  @join__type(graph: BUSINESS)
{
  email: String
  phone: String
  address: String
  website: String
}

input CreateBusinessInput
  @join__type(graph: BUSINESS)
{
  name: String!
  description: String
  contactInfo: ContactInfoInput
  socialMedia: SocialMediaInput
  features: BusinessFeaturesInput
}

input CreateTaxonomyInput
  @join__type(graph: TAXONOMY)
{
  parentId: UUID
  name: String!
  visible: Boolean!
  description: String
}

input CreateTermInput
  @join__type(graph: TERM)
{
  taxonomyId: UUID!
  parentId: UUID
  name: String!
  visible: Boolean!
  description: String
}

input CreateUserInput
  @join__type(graph: USER)
{
  firstName: String!
  lastName: String!
  countryTermId: UUID!
  socialProfiles: [SocialProfileInput!]
  demographics: JSONObject
}

scalar join__FieldSet

enum join__Graph {
  BUSINESS @join__graph(name: "business", url: "http://localhost:3004")
  TAXONOMY @join__graph(name: "taxonomy", url: "http://localhost:3003")
  TERM @join__graph(name: "term", url: "http://localhost:3002")
  USER @join__graph(name: "user", url: "http://localhost:3001")
}

"""A scalar that can represent any JSON Object value."""
scalar JSONObject
  @join__type(graph: BUSINESS)
  @join__type(graph: USER)

scalar link__Import

enum link__Purpose {
  """
  `SECURITY` features provide metadata necessary to securely resolve fields.
  """
  SECURITY

  """
  `EXECUTION` features provide metadata necessary for operation execution.
  """
  EXECUTION
}

type Mutation
  @join__type(graph: BUSINESS)
  @join__type(graph: TAXONOMY)
  @join__type(graph: TERM)
  @join__type(graph: USER)
{
  """Create a Business"""
  createBusiness(input: CreateBusinessInput!): Business! @join__field(graph: BUSINESS)

  """Update a Business"""
  updateBusiness(businessId: UUID!, input: UpdateBusinessInput!): Business! @join__field(graph: BUSINESS)

  """Soft Delete a Business"""
  softDeleteBusiness(businessId: UUID!): UUID! @join__field(graph: BUSINESS)

  """Permanetly Delete a Business"""
  permanetlyDeleteBusiness(businessId: UUID!): String! @join__field(graph: BUSINESS)

  """Create a Taxonomy"""
  createTaxonomy(input: CreateTaxonomyInput!): Taxonomy! @join__field(graph: TAXONOMY)

  """Update a Taxonomy"""
  updateTaxonomy(taxonomyId: UUID!, input: UpdateTaxonomyInput!): Taxonomy! @join__field(graph: TAXONOMY)

  """Soft Delete a Taxonomy"""
  softDeleteTaxonomy(taxonomyId: UUID!): UUID! @join__field(graph: TAXONOMY)

  """Permanetly Delete a Taxonomy"""
  permanetlyDeleteTaxonomy(taxonomyId: UUID!): String! @join__field(graph: TAXONOMY)

  """Create a Term"""
  createTerm(input: CreateTermInput!): Term! @join__field(graph: TERM)

  """Update a Term"""
  updateTerm(termId: UUID!, input: UpdateTermInput!): Term! @join__field(graph: TERM)

  """Soft Delete a Term"""
  softDeleteTerm(termId: UUID!): UUID! @join__field(graph: TERM)

  """Permanetly Delete a Term"""
  permanetlyDeleteTerm(termId: UUID!): String! @join__field(graph: TERM)

  """Create a User"""
  createUser(input: CreateUserInput!): User! @join__field(graph: USER)

  """Update a User"""
  updateUser(userId: UUID!, input: UpdateUserInput!): User! @join__field(graph: USER)

  """Soft Delete a User"""
  softDeleteUser(userId: UUID!): UUID! @join__field(graph: USER)

  """Permanetly Delete a User"""
  permanetlyDeleteUser(userId: UUID!): String! @join__field(graph: USER)
}

type Query
  @join__type(graph: BUSINESS)
  @join__type(graph: TAXONOMY)
  @join__type(graph: TERM)
  @join__type(graph: USER)
{
  """Get many  Business"""
  getBusinesss: String! @join__field(graph: BUSINESS)

  """Search  Business"""
  searchBusinesss: String! @join__field(graph: BUSINESS)

  """Get many  Taxonomy"""
  getTaxonomy: String! @join__field(graph: TAXONOMY)

  """Search  Taxonomy"""
  searchTaxonomy: String! @join__field(graph: TAXONOMY)

  """Get many  Term"""
  getTerms: String! @join__field(graph: TERM)

  """Search  Term"""
  searchTerms: String! @join__field(graph: TERM)

  """Get many  User"""
  getUsers: String! @join__field(graph: USER)

  """Search  User"""
  searchUsers: String! @join__field(graph: USER)
}

type SocialMedia
  @join__type(graph: BUSINESS)
{
  facebook: String
  instagram: String
  twitter: String
  tiktok: String
  linkedin: String
  youtube: String
  other: JSONObject!
}

input SocialMediaInput
  @join__type(graph: BUSINESS)
{
  facebook: String
  instagram: String
  twitter: String
  tiktok: String
  linkedin: String
  youtube: String
  other: JSONObject
}

type SocialProfile
  @join__type(graph: USER)
{
  platform: SocialProfilePlatform!
  profileName: String!
  profileLink: String!
  markForVerification: Boolean!
  isVerified: Boolean!
  followerCount: Int!
  demographics: JSONObject
}

input SocialProfileInput
  @join__type(graph: USER)
{
  platform: SocialProfilePlatform!
  profileName: String!
  profileLink: String!
  markForVerification: Boolean!
  isVerified: Boolean!
  followerCount: Int!
  demographics: JSONObject
}

enum SocialProfilePlatform
  @join__type(graph: USER)
{
  FACEBOOK @join__enumValue(graph: USER)
  INSTAGRAM @join__enumValue(graph: USER)
  TIK_TOK @join__enumValue(graph: USER)
  X @join__enumValue(graph: USER)
  YOUTUBE @join__enumValue(graph: USER)
  LINKED_IN @join__enumValue(graph: USER)
}

type Taxonomy
  @join__type(graph: TAXONOMY, key: "id")
{
  id: ID!
  parentId: UUID
  name: String!
  visible: Boolean!
  description: String
  createdAt: String!
  updatedAt: String!
  deleted: Boolean!
  deletetionStatus: String
  version: Int!
}

type Term
  @join__type(graph: TERM, key: "id")
{
  id: ID!
  taxonomyId: UUID!
  parentId: UUID
  name: String!
  visible: Boolean!
  description: String
  createdAt: String!
  updatedAt: String!
  deleted: Boolean!
  deletetionStatus: String
  version: Int!
}

input UpdateBusinessInput
  @join__type(graph: BUSINESS)
{
  name: String
  description: String
  contactInfo: ContactInfoInput
  socialMedia: SocialMediaInput
  features: BusinessFeaturesInput
}

input UpdateTaxonomyInput
  @join__type(graph: TAXONOMY)
{
  parentId: UUID
  name: String
  visible: Boolean
  description: String
}

input UpdateTermInput
  @join__type(graph: TERM)
{
  taxonomyId: UUID
  parentId: UUID
  name: String
  visible: Boolean
  description: String
}

input UpdateUserInput
  @join__type(graph: USER)
{
  firstName: String
  lastName: String
  countryTermId: UUID
  socialProfiles: [SocialProfileInput!]
  demographics: JSONObject
}

type User
  @join__type(graph: USER, key: "id")
{
  id: ID!
  firstName: String!
  lastName: String!
  countryTermId: UUID!
  socialProfiles: [SocialProfile!]
  demographics: JSONObject
  createdAt: String!
  updatedAt: String!
  deleted: Boolean!
  deletetionStatus: String
  version: Int!
}

"""
A UUID is a unique 128-bit number, stored as 16 octets. UUIDs are parsed as
Strings within GraphQL. UUIDs are used to assign unique identifiers to
entities without requiring a central allocating authority.

# References

* [Wikipedia: Universally Unique Identifier](http://en.wikipedia.org/wiki/Universally_unique_identifier)
* [RFC4122: A Universally Unique Identifier (UUID) URN Namespace](http://tools.ietf.org/html/rfc4122)
"""
scalar UUID
  @join__type(graph: BUSINESS)
  @join__type(graph: TAXONOMY)
  @join__type(graph: TERM)
  @join__type(graph: USER)
